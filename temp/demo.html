<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å¼§å½¢åŸºçº¿çš„æ°´å¹³å¡ç‰‡èµ°é©¬ç¯</title>
  <style>
    :root{
      --bg:#0b0c10;
      --fg:#e9eef7;
      --card-bg:#11151c;
      --accent:#7aa8ff;
      --card-w: clamp(220px, 26vw, 320px);
      --card-r: 22px;
      --gap: 40px;
      --arc-amplitude: 52px;     /* å¼§å½¢èµ·ä¼å¹…åº¦ï¼šè¶Šå¤§è¶Šâ€œå¼¯â€ */
      --arc-period: 5.2;         /* æ³¢é•¿ï¼ˆè¶Šå¤§è¶Šå¹³ç¼“ï¼‰ */
      --tilt: 8deg;              /* æ²¿å¼§çº¿çš„è½»å¾®æ—‹è½¬å¹…åº¦ */
      --hover-lift: 14px;
    }
    html,body{height:100%}
    body{
      margin:0; background:#0b0c10;
      color:var(--fg); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      overflow:hidden; /* æˆ‘ä»¬è‡ªå·±å¤„ç†æ»šåŠ¨ */
      -webkit-font-smoothing:antialiased;
    }
    header{
      text-align:center; padding:32px 16px 8px;
    }
    h1{margin:0 0 8px;font-size:clamp(22px,3vw,36px);font-weight:800}
    p{margin:0;opacity:.7}

    /* èˆå°ä¸è½¨é“ */
    .stage{
      position:relative;
      height: 72vh;
      max-height: 760px;
      overflow: hidden;
      mask: linear-gradient(90deg, rgba(0,0,0,0) 0%, #000 8%, #000 92%, rgba(0,0,0,0) 100%);
    }
    .rail{
      position:absolute; left:50%; top:50%;
      transform:translate3d(var(--tx, -50%), -50%, 0);
      display:flex; align-items:center; gap:var(--gap);
      will-change: transform;
    }

    /* å¡ç‰‡ */
    .card{
      width:var(--card-w); aspect-ratio: 4/3; border-radius:var(--card-r);
      background: linear-gradient(180deg,#151a22,#0e1116);
      box-shadow: 0 10px 24px rgba(0,0,0,.45), 0 1px 0 rgba(255,255,255,.05) inset;
      overflow:hidden; color:#cfe0ff;
      transform-style:preserve-3d;
      transition: box-shadow .2s ease, filter .2s ease, transform .18s ease;
    }
    .card:hover{
      transform: translateY(calc(var(--lift,0px) - var(--hover-lift))) rotateX(6deg) rotateZ(var(--rz,0deg));
      box-shadow: 0 24px 46px rgba(0,0,0,.6), 0 0 0 1px rgba(122,168,255,.14) inset;
      z-index:2;
    }
    .media{height:64%; display:grid; place-items:center; background:linear-gradient(135deg,#7aa8ff22,#7aa8ff0a)}
    .media img{max-width:100%; max-height:100%; object-fit:cover; display:block}
    .label{height:36%; padding:12px 16px; display:grid; align-content:center}
    .title{font-weight:700}
    .meta{font-size:12px; opacity:.7}

    /* æ¸éšæç¤ºæ¡ */
    .fades::before,.fades::after{
      content:""; position:absolute; inset:0; pointer-events:none;
      background:
        linear-gradient(90deg, #0b0c10, transparent 140px),
        linear-gradient(270deg, #0b0c10, transparent 140px);
      mix-blend-mode:normal; opacity:.9;
    }

    /* å°æç¤º */
    .hint{
      position:absolute; left:50%; bottom:18px; transform:translateX(-50%);
      font-size:13px; opacity:.75; background:#11151c; padding:8px 12px; border-radius:999px; border:1px solid #202635;
    }

    @media (max-width: 680px){
      :root{ --gap: 22px; --arc-amplitude: 36px; }
      header{ padding:24px 12px 6px; }
      .stage{ height: 68vh; }
      .hint{font-size:12px}
    }
  </style>
</head>
<body>
  <header>
    <h1>Featured Creations</h1>
    <p>Handpicked best examples showcasing Nano Banana's capabilities</p>
  </header>

  <section class="stage fades" id="stage">
    <div class="rail" id="rail">
      <!-- ä½ å¯ä»¥æŠŠè¿™äº› img æ¢æˆä½ çš„å›¾ï¼›æ•°é‡ä»»æ„ -->
      <!-- æˆ‘ä»¬å°†ç”¨ JS ç»™æ¯å¼ å¡è®¡ç®—â€œå¼§å½¢ y åç§»â€å’Œâ€œè·Ÿéšæ—‹è½¬è§’â€ -->
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/a/800/600" alt="a"/></div><div class="label"><div class="title">Card A</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/b/800/600" alt="b"/></div><div class="label"><div class="title">Card B</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/c/800/600" alt="c"/></div><div class="label"><div class="title">Card C</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/d/800/600" alt="d"/></div><div class="label"><div class="title">Card D</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/e/800/600" alt="e"/></div><div class="label"><div class="title">Card E</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/f/800/600" alt="f"/></div><div class="label"><div class="title">Card F</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/g/800/600" alt="g"/></div><div class="label"><div class="title">Card G</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/h/800/600" alt="h"/></div><div class="label"><div class="title">Card H</div><div class="meta">sample</div></div></article>
      <article class="card"><div class="media"><img src="https://picsum.photos/seed/i/800/600" alt="i"/></div><div class="label"><div class="title">Card I</div><div class="meta">sample</div></div></article>
    </div>
    <div class="hint">ğŸ–±ï¸ æ»šè½®/æ‹–æ‹½æ¨ªå‘æµè§ˆ Â· ğŸ“± è§¦æ‘¸æ»‘åŠ¨ Â· ğŸ•’ æ— æ“ä½œè‡ªåŠ¨æ»šåŠ¨</div>
  </section>

  <script>
    // ======== å‚æ•° =========
    const autoplayPxPerSec = 40;      // è‡ªåŠ¨æ»šåŠ¨é€Ÿåº¦
    const wheelSensitivity = 0.9;     // é¼ æ ‡æ»šè½®çµæ•åº¦ï¼ˆè¶Šå¤§è¶Šå¿«ï¼‰
    const damping = 0.92;             // æƒ¯æ€§è¡°å‡ï¼ˆ0.9~0.97ï¼‰
    const idleRestoreMs = 900;        // ç”¨æˆ·äº¤äº’åå¤šä¹…æ¢å¤è‡ªåŠ¨æ»šåŠ¨

    // ======== DOM =========
    const rail = document.getElementById('rail');
    const stage = document.getElementById('stage');
    const cards = [...rail.children];

    // è®¡ç®—åŸºç¡€å°ºå¯¸
    function cardFullWidth() {
      const c = cards[0];
      const style = getComputedStyle(c);
      const gap = parseFloat(getComputedStyle(rail).gap || 0);
      return c.getBoundingClientRect().width + gap;
    }

    // ç”Ÿæˆå¼§å½¢ï¼šçºµå‘åç§» + æ—‹è½¬è§’
    function applyArc() {
      const amp = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--arc-amplitude')) || 48;
      const period = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--arc-period')) || 5.2;
      const tiltMax = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--tilt')) || 8;

      cards.forEach((el, i) => {
        // i åŸºäºå±…ä¸­å¯¹ç§°çš„ç›¸å¯¹ç´¢å¼•
        const n = i - (cards.length - 1) / 2;
        const y = Math.sin(n / period) * amp;
        const deg = Math.sin(n / period) * tiltMax; // ä¸ y åŒæ­¥çš„è½»å¾®æ—‹è½¬
        el.style.setProperty('--lift', `${-y}px`);  // lift ä¸ºè´Ÿå‘ä¸Š
        el.style.setProperty('--rz', `${deg}deg`);
        // åˆå§‹é™æ€å˜æ¢ï¼ˆé hoverï¼‰
        el.style.transform = `translateY(${-y}px) rotateZ(${deg}deg)`;
      });
    }

    applyArc();
    window.addEventListener('resize', applyArc);

    // ======== è¿åŠ¨çŠ¶æ€ï¼ˆä½ç½®/é€Ÿåº¦ï¼‰========
    let x = 0;            // å½“å‰è½¨é“ä½ç§»ï¼ˆpxï¼‰
    let v = 0;            // å½“å‰é€Ÿåº¦
    let last = performance.now();
    let idleTimer = null; // æ¢å¤è‡ªåŠ¨æ»šåŠ¨è®¡æ—¶
    let autoplay = true;  // æ˜¯å¦è‡ªåŠ¨æ»šåŠ¨

    // è®©è½¨é“æ— é™å¾ªç¯è§†è§‰ï¼šå½“åç§»è¶…å‡ºé˜ˆå€¼æ—¶é‡æ’
    function recycle() {
      const fw = cardFullWidth();
      const viewW = stage.clientWidth;
      // å·¦ä¾§è¶Šç•Œï¼šæŠŠç¬¬ä¸€å¼ æŒªåˆ°æœ«å°¾
      while (x > fw) {
        x -= fw;
        rail.appendChild(rail.firstElementChild);
      }
      // å³ä¾§è¶Šç•Œï¼šæŠŠæœ€åä¸€å¼ æŒªåˆ°å¼€å¤´
      while (x < -(fw)) {
        x += fw;
        rail.prepend(rail.lastElementChild);
      }
      // è®¾å®š transform
      rail.style.setProperty('--tx', `${-x - stage.clientWidth/2}px`);
      rail.style.transform = `translate3d(${(-x)}px, -50%, 0)`;
    }

    // åŠ¨ç”»ä¸»å¾ªç¯
    function tick(now) {
      const dt = Math.max(0.001, (now - last) / 1000);
      last = now;

      if (autoplay) {
        x += autoplayPxPerSec * dt;
      } else {
        x += v * dt;
        v *= damping;
        if (Math.abs(v) < 0.05) v = 0;
      }

      recycle();
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    // ======== äº¤äº’ï¼šæ»šè½®/æ‹–æ‹½/è§¦æ‘¸ ========
    function pauseAutoplay() {
      autoplay = false;
      clearTimeout(idleTimer);
      idleTimer = setTimeout(() => { autoplay = true; }, idleRestoreMs);
    }

    // æ»šè½® => æ¨ªå‘
    stage.addEventListener('wheel', (e) => {
      e.preventDefault(); // ç¦æ­¢é¡µé¢é»˜è®¤æ»šåŠ¨
      const delta = (Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY);
      v += delta * wheelSensitivity;
      pauseAutoplay();
    }, { passive: false });

    // æ‹–æ‹½ï¼ˆæŒ‡é’ˆç»Ÿä¸€ï¼‰
    let dragging = false, lastX = 0;
    stage.addEventListener('pointerdown', (e) => {
      dragging = true; lastX = e.clientX; stage.setPointerCapture(e.pointerId); pauseAutoplay();
    });
    stage.addEventListener('pointermove', (e) => {
      if(!dragging) return;
      const dx = e.clientX - lastX; lastX = e.clientX;
      x -= dx; // ç›´æ¥ä½ç§»ï¼Œé€Ÿåº¦ç”¨äºæƒ¯æ€§
      v = -dx * 8;
    });
    stage.addEventListener('pointerup', (e)=>{ dragging=false; stage.releasePointerCapture?.(e.pointerId); });
    stage.addEventListener('pointercancel', ()=> dragging=false);

    // å¯é€‰ï¼šå°Šé‡â€œå‡å°‘åŠ¨æ€â€ç³»ç»Ÿåå¥½
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if (mq.matches) {
      // é™çº§ï¼šå…³é—­è‡ªåŠ¨æ»šåŠ¨ä¸æƒ¯æ€§
      autoplay = false;
      v = 0;
    }
  </script>
</body>
</html>
